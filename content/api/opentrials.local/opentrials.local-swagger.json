{
  "openapi" : "3.0.1",
  "info" : {
    "title" : "OpenTrials API",
    "version" : "0.0.1"
  },
  "servers" : [ {
    "url" : "//opentrials.local/v1"
  } ],
  "paths" : {
    "/conditions/{id}" : {
      "get" : {
        "tags" : [ "conditions" ],
        "description" : "Returns condition details",
        "operationId" : "getCondition",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "ID of the condition",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Success",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Condition"
                }
              }
            }
          },
          "404" : {
            "description" : "Condition not found"
          },
          "default" : {
            "description" : "Error",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/document_categories" : {
      "get" : {
        "tags" : [ "document_categories" ],
        "description" : "Returns document categories",
        "operationId" : "listDocumentCategories",
        "responses" : {
          "200" : {
            "description" : "Success",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DocumentCategoryList"
                }
              }
            }
          },
          "default" : {
            "description" : "Error",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/documents" : {
      "get" : {
        "tags" : [ "documents" ],
        "description" : "Returns documents",
        "operationId" : "listDocuments",
        "parameters" : [ {
          "name" : "page",
          "in" : "query",
          "description" : "The page number",
          "schema" : {
            "minimum" : 1,
            "type" : "integer",
            "default" : 1
          }
        }, {
          "name" : "per_page",
          "in" : "query",
          "description" : "Number of items per page",
          "schema" : {
            "maximum" : 100,
            "minimum" : 10,
            "type" : "integer",
            "default" : 20
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Success",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/DocumentList"
                }
              }
            }
          },
          "default" : {
            "description" : "Error",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/documents/{id}" : {
      "get" : {
        "tags" : [ "documents" ],
        "description" : "Returns details of a document",
        "operationId" : "getDocument",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "ID of the document",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Success",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Document"
                }
              }
            }
          },
          "404" : {
            "description" : "Document not found"
          },
          "default" : {
            "description" : "Error",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/fda_applications" : {
      "get" : {
        "tags" : [ "fda_applications" ],
        "description" : "Returns FDA applications",
        "operationId" : "listFDAApplications",
        "parameters" : [ {
          "name" : "page",
          "in" : "query",
          "description" : "The page number",
          "schema" : {
            "minimum" : 1,
            "type" : "integer",
            "default" : 1
          }
        }, {
          "name" : "per_page",
          "in" : "query",
          "description" : "Number of items per page",
          "schema" : {
            "maximum" : 100,
            "minimum" : 10,
            "type" : "integer",
            "default" : 20
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Success",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/FDAApplicationList"
                }
              }
            }
          },
          "default" : {
            "description" : "Error",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/fda_applications/{id}" : {
      "get" : {
        "tags" : [ "fda_applications" ],
        "description" : "Returns an FDA application details",
        "operationId" : "getFDAApplication",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "ID of the FDA application",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Success",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/FDAApplication"
                }
              }
            }
          },
          "404" : {
            "description" : "FDA application not found"
          },
          "default" : {
            "description" : "Error",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/interventions/{id}" : {
      "get" : {
        "tags" : [ "interventions" ],
        "description" : "Returns intervention details",
        "operationId" : "getIntervention",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "ID of the intervention",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Success",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Intervention"
                }
              }
            }
          },
          "404" : {
            "description" : "Intervention not found"
          },
          "default" : {
            "description" : "Error",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/organisations/{id}" : {
      "get" : {
        "tags" : [ "organisations" ],
        "description" : "Returns organisation details",
        "operationId" : "getOrganisation",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "ID of the organisation",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Success",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Organisation"
                }
              }
            }
          },
          "404" : {
            "description" : "Organisation not found"
          },
          "default" : {
            "description" : "Error",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/persons/{id}" : {
      "get" : {
        "tags" : [ "persons" ],
        "description" : "Returns person details",
        "operationId" : "getPerson",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "ID of the person",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Success",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Person"
                }
              }
            }
          },
          "404" : {
            "description" : "Person not found"
          },
          "default" : {
            "description" : "Error",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/publications/{id}" : {
      "get" : {
        "tags" : [ "publications" ],
        "description" : "Returns publication details",
        "operationId" : "getPublication",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "ID of the publication",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Success",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Publication"
                }
              }
            }
          },
          "404" : {
            "description" : "Publication not found"
          },
          "default" : {
            "description" : "Error",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/search" : {
      "get" : {
        "tags" : [ "trials" ],
        "description" : "Returns trials based on a search query. By default, it'll search in all of a trial's attributes.\n- `q` is a [ElasticSearch query string](https://www.elastic.co/guide/en/elasticsearch/reference/2.3/query-dsl-query-string-query.html#query-string-syntax) (e.g. `public_title:(depressive OR depression)`)\n- `page` can take a value between `1` and `100`\n- `per_page` can take a value between `10` and `100`",
        "operationId" : "searchTrials",
        "parameters" : [ {
          "name" : "q",
          "in" : "query",
          "description" : "The search query (follows the [ElasticSearch Query String](https://www.elastic.co/guide/en/elasticsearch/reference/2.3/query-dsl-query-string-query.html#query-string-syntax) syntax)",
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "page",
          "in" : "query",
          "description" : "The page number",
          "schema" : {
            "maximum" : 100,
            "minimum" : 1,
            "type" : "integer",
            "default" : 1
          }
        }, {
          "name" : "per_page",
          "in" : "query",
          "description" : "Number of items per page",
          "schema" : {
            "maximum" : 100,
            "minimum" : 10,
            "type" : "integer",
            "default" : 20
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Success",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/TrialSearchResults"
                }
              }
            }
          },
          "default" : {
            "description" : "Error",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/search/autocomplete/{in}" : {
      "get" : {
        "tags" : [ "search" ],
        "description" : "Autocomplete search feature for supported database entities (`location`). It has the same options as a regular `search` operation, with an extra **required** `in` parameter indicating the entity type to search.",
        "operationId" : "autocomplete",
        "parameters" : [ {
          "name" : "in",
          "in" : "path",
          "description" : "The entity to search for",
          "required" : true,
          "schema" : {
            "type" : "string",
            "enum" : [ "location" ]
          }
        }, {
          "name" : "q",
          "in" : "query",
          "description" : "The search query",
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "page",
          "in" : "query",
          "description" : "The page number",
          "schema" : {
            "maximum" : 100,
            "minimum" : 1,
            "type" : "integer",
            "default" : 1
          }
        }, {
          "name" : "per_page",
          "in" : "query",
          "description" : "Number of items per page",
          "schema" : {
            "maximum" : 100,
            "minimum" : 10,
            "type" : "integer",
            "default" : 20
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Success",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/AutocompleteResults"
                }
              }
            }
          },
          "default" : {
            "description" : "Error",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/search/fda_documents" : {
      "get" : {
        "tags" : [ "search" ],
        "description" : "Search the FDA documents",
        "operationId" : "searchFDADocuments",
        "parameters" : [ {
          "name" : "q",
          "in" : "query",
          "description" : "The search query (follows the [ElasticSearch Query String](https://www.elastic.co/guide/en/elasticsearch/reference/2.3/query-dsl-query-string-query.html#query-string-syntax) syntax)",
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "text",
          "in" : "query",
          "description" : "Search query on the documents file's text (follows the [ElasticSearch Simple Query String](https://www.elastic.co/guide/en/elasticsearch/reference/2.3/query-dsl-simple-query-string-query.html#_simple_query_string_syntax) syntax)",
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "page",
          "in" : "query",
          "description" : "The page number",
          "schema" : {
            "maximum" : 100,
            "minimum" : 1,
            "type" : "integer",
            "default" : 1
          }
        }, {
          "name" : "per_page",
          "in" : "query",
          "description" : "Number of items per page",
          "schema" : {
            "maximum" : 100,
            "minimum" : 10,
            "type" : "integer",
            "default" : 20
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Success",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/FDADocumentSearchResults"
                }
              }
            }
          },
          "default" : {
            "description" : "Error",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/sources" : {
      "get" : {
        "tags" : [ "sources" ],
        "description" : "Returns list of sources",
        "operationId" : "list",
        "responses" : {
          "200" : {
            "description" : "Success",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/SourceList"
                }
              }
            }
          },
          "default" : {
            "description" : "Error",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/swagger.yaml" : null,
    "/trials/{id}" : {
      "get" : {
        "tags" : [ "trials" ],
        "description" : "Returns a trial's details and related entities (e.g. `conditions`).",
        "operationId" : "getTrial",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "ID of the trial",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Success",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Trial"
                }
              }
            }
          },
          "404" : {
            "description" : "Trial not found"
          },
          "default" : {
            "description" : "Error",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/trials/{id}/records" : {
      "get" : {
        "tags" : [ "trials" ],
        "description" : "Returns a trial's raw records from its sources",
        "operationId" : "getRecords",
        "parameters" : [ {
          "name" : "id",
          "in" : "path",
          "description" : "ID of the trial",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Success",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/RecordList"
                }
              }
            }
          },
          "404" : {
            "description" : "Trial not found"
          }
        }
      }
    },
    "/trials/{trialId}/records/{id}" : {
      "get" : {
        "tags" : [ "trials" ],
        "description" : "Returns a trial's raw record from its sources",
        "operationId" : "getRecord",
        "parameters" : [ {
          "name" : "trialId",
          "in" : "path",
          "description" : "ID of the trial",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "id",
          "in" : "path",
          "description" : "ID of the trial's record",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Success",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Record"
                }
              }
            }
          },
          "404" : {
            "description" : "Trial not found"
          }
        }
      }
    }
  },
  "components" : {
    "schemas" : {
      "AutocompleteResult" : {
        "required" : [ "id", "name" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string"
          },
          "name" : {
            "type" : "string"
          }
        }
      },
      "AutocompleteResults" : {
        "required" : [ "items", "total_count" ],
        "type" : "object",
        "properties" : {
          "items" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/AutocompleteResult"
            }
          },
          "total_count" : {
            "type" : "integer"
          }
        }
      },
      "Condition" : {
        "required" : [ "id", "name", "url" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "ID of the condition"
          },
          "name" : {
            "type" : "string",
            "description" : "Name of the condition"
          },
          "url" : {
            "type" : "string",
            "description" : "OpenTrials API URL of the condition"
          }
        }
      },
      "Discrepancies" : {
        "type" : "object",
        "properties" : {
          "gender" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/DiscrepantFieldString"
            }
          },
          "has_published_results" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/DiscrepantFieldBoolean"
            }
          },
          "recruitment_status" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/DiscrepantFieldString"
            }
          },
          "status" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/DiscrepantFieldString"
            }
          },
          "target_sample_size" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/DiscrepantFieldInteger"
            }
          }
        },
        "description" : "Object listing the Trial's discrepant fields"
      },
      "DiscrepancyFieldBase" : {
        "required" : [ "record_id", "source_name" ],
        "type" : "object",
        "properties" : {
          "record_id" : {
            "type" : "string"
          },
          "source_name" : {
            "type" : "string"
          }
        }
      },
      "DiscrepantFieldBoolean" : {
        "allOf" : [ {
          "$ref" : "#/components/schemas/DiscrepancyFieldBase"
        }, {
          "type" : "object",
          "properties" : {
            "value" : {
              "type" : "boolean"
            }
          }
        } ]
      },
      "DiscrepantFieldInteger" : {
        "allOf" : [ {
          "$ref" : "#/components/schemas/DiscrepancyFieldBase"
        }, {
          "type" : "object",
          "properties" : {
            "value" : {
              "type" : "integer"
            }
          }
        } ]
      },
      "DiscrepantFieldString" : {
        "allOf" : [ {
          "$ref" : "#/components/schemas/DiscrepancyFieldBase"
        }, {
          "type" : "object",
          "properties" : {
            "value" : {
              "type" : "string"
            }
          }
        } ]
      },
      "Document" : {
        "required" : [ "document_category", "id", "name", "url" ],
        "type" : "object",
        "properties" : {
          "document_category" : {
            "$ref" : "#/components/schemas/DocumentCategory"
          },
          "fda_application" : {
            "$ref" : "#/components/schemas/FDAApplication"
          },
          "file" : {
            "$ref" : "#/components/schemas/File"
          },
          "id" : {
            "type" : "string",
            "description" : "ID of the document"
          },
          "name" : {
            "type" : "string"
          },
          "source" : {
            "$ref" : "#/components/schemas/Source"
          },
          "source_url" : {
            "type" : "string",
            "description" : "URL of origin for this document"
          },
          "trials" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/TrialSummary"
            }
          },
          "url" : {
            "type" : "string",
            "description" : "OpenTrials API URL of the document"
          }
        }
      },
      "DocumentCategory" : {
        "required" : [ "id", "name" ],
        "type" : "object",
        "properties" : {
          "group" : {
            "type" : "string",
            "description" : "Name of document category"
          },
          "id" : {
            "type" : "integer"
          },
          "name" : {
            "type" : "string",
            "description" : "Name of document sub-category"
          }
        }
      },
      "DocumentCategoryList" : {
        "required" : [ "items", "total_count" ],
        "type" : "object",
        "properties" : {
          "items" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/DocumentCategory"
            }
          },
          "total_count" : {
            "type" : "integer"
          }
        }
      },
      "DocumentList" : {
        "required" : [ "items", "total_count" ],
        "type" : "object",
        "properties" : {
          "items" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/DocumentSummary"
            }
          },
          "total_count" : {
            "type" : "integer"
          }
        }
      },
      "DocumentSummary" : {
        "required" : [ "document_category", "id", "name", "url" ],
        "type" : "object",
        "properties" : {
          "document_category" : {
            "$ref" : "#/components/schemas/DocumentCategory"
          },
          "fda_application" : {
            "$ref" : "#/components/schemas/FDAApplication"
          },
          "file" : {
            "$ref" : "#/components/schemas/FileSummary"
          },
          "id" : {
            "type" : "string"
          },
          "name" : {
            "type" : "string"
          },
          "source_id" : {
            "type" : "string",
            "description" : "ID of the document's source"
          },
          "source_url" : {
            "type" : "string",
            "description" : "URL of origin for this document"
          },
          "trials" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/TrialSummary"
            }
          },
          "url" : {
            "type" : "string",
            "description" : "OpenTrials API URL of the document"
          }
        }
      },
      "ErrorResponse" : {
        "required" : [ "message" ],
        "type" : "object",
        "properties" : {
          "message" : {
            "type" : "string"
          }
        }
      },
      "FDAApplication" : {
        "required" : [ "id", "url" ],
        "type" : "object",
        "properties" : {
          "active_ingredients" : {
            "type" : "string",
            "description" : "Active ingredients contained in the drug"
          },
          "drug_name" : {
            "type" : "string",
            "description" : "Name of the drug"
          },
          "fda_approvals" : {
            "type" : "array",
            "description" : "Associated FDA approvals",
            "items" : {
              "$ref" : "#/components/schemas/FDAApproval"
            }
          },
          "id" : {
            "type" : "string",
            "description" : "FDA application ID"
          },
          "organisation" : {
            "$ref" : "#/components/schemas/Organisation"
          },
          "type" : {
            "type" : "string",
            "description" : "The FDA application type (e.g. \"NDA\", \"ANDA\", etc.)"
          },
          "url" : {
            "type" : "string",
            "description" : "OpenTrials API URL for this FDA application"
          }
        }
      },
      "FDAApplicationList" : {
        "required" : [ "items", "total_count" ],
        "type" : "object",
        "properties" : {
          "items" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/FDAApplication"
            }
          },
          "total_count" : {
            "type" : "integer"
          }
        }
      },
      "FDAApproval" : {
        "required" : [ "action_date", "id", "supplement_number", "type" ],
        "type" : "object",
        "properties" : {
          "action_date" : {
            "type" : "string",
            "format" : "date-time"
          },
          "fda_application" : {
            "$ref" : "#/components/schemas/FDAApplication"
          },
          "id" : {
            "type" : "string",
            "description" : "FDA approval ID"
          },
          "notes" : {
            "type" : "string",
            "description" : "Additional information about the FDA approval"
          },
          "supplement_number" : {
            "type" : "integer"
          },
          "type" : {
            "type" : "string",
            "description" : "Type of FDA approval"
          }
        }
      },
      "FDADocumentSearchResult" : {
        "allOf" : [ {
          "$ref" : "#/components/schemas/DocumentSummary"
        }, {
          "type" : "object",
          "properties" : {
            "file" : {
              "$ref" : "#/components/schemas/File"
            }
          }
        } ]
      },
      "FDADocumentSearchResults" : {
        "required" : [ "items", "total_count" ],
        "type" : "object",
        "properties" : {
          "items" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/FDADocumentSearchResult"
            }
          },
          "total_count" : {
            "type" : "integer"
          }
        }
      },
      "File" : {
        "allOf" : [ {
          "$ref" : "#/components/schemas/FileSummary"
        }, {
          "type" : "object",
          "properties" : {
            "pages" : {
              "type" : "array",
              "description" : "Array with text of each of the file's pages",
              "items" : {
                "required" : [ "num", "text" ],
                "type" : "object",
                "properties" : {
                  "num" : {
                    "minimum" : 1,
                    "type" : "integer",
                    "description" : "Page number"
                  },
                  "text" : {
                    "type" : "string"
                  }
                }
              }
            }
          }
        } ]
      },
      "FileSummary" : {
        "type" : "object",
        "properties" : {
          "documentcloud_id" : {
            "type" : "string"
          },
          "id" : {
            "type" : "string",
            "description" : "ID of the file"
          },
          "sha1" : {
            "type" : "string"
          },
          "source_url" : {
            "type" : "string",
            "description" : "URL of origin for this file"
          }
        }
      },
      "Intervention" : {
        "required" : [ "id", "name", "url" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "ID of the intervention"
          },
          "name" : {
            "type" : "string",
            "description" : "Name of the intervention"
          },
          "type" : {
            "type" : "string",
            "description" : "Type of the intervention (drug / other)",
            "enum" : [ "drug", "procedure", "other" ]
          },
          "url" : {
            "type" : "string",
            "description" : "OpenTrials API URL of the intervention"
          }
        }
      },
      "Location" : {
        "required" : [ "id", "name" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "ID of the location"
          },
          "name" : {
            "type" : "string",
            "description" : "Name of the location"
          },
          "type" : {
            "type" : "string",
            "description" : "Type of the location (country / city / other)",
            "enum" : [ "country", "city", "other" ]
          }
        }
      },
      "Organisation" : {
        "required" : [ "id", "name", "url" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "ID of the organisation"
          },
          "name" : {
            "type" : "string",
            "description" : "Name of the organisation"
          },
          "url" : {
            "type" : "string",
            "description" : "OpenTrials API URL of the organisation"
          }
        }
      },
      "Person" : {
        "required" : [ "id", "name", "url" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "ID of the person"
          },
          "name" : {
            "type" : "string",
            "description" : "Name of the person"
          },
          "url" : {
            "type" : "string",
            "description" : "OpenTrials API URL of the person"
          }
        }
      },
      "Publication" : {
        "required" : [ "abstract", "id", "source", "source_url", "title", "url" ],
        "type" : "object",
        "properties" : {
          "abstract" : {
            "type" : "string"
          },
          "authors" : {
            "type" : "array",
            "items" : {
              "type" : "string"
            }
          },
          "created_at" : {
            "type" : "string",
            "format" : "date-time"
          },
          "date" : {
            "type" : "string",
            "format" : "date-time"
          },
          "id" : {
            "type" : "string",
            "description" : "ID of the publication"
          },
          "journal" : {
            "type" : "string"
          },
          "slug" : {
            "type" : "string"
          },
          "source" : {
            "$ref" : "#/components/schemas/Source"
          },
          "source_url" : {
            "type" : "string"
          },
          "title" : {
            "type" : "string"
          },
          "updated_at" : {
            "type" : "string",
            "format" : "date-time"
          },
          "url" : {
            "type" : "string"
          }
        }
      },
      "PublicationSummary" : {
        "required" : [ "id", "source_id", "source_url", "title", "url" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string"
          },
          "source_id" : {
            "type" : "string"
          },
          "source_url" : {
            "type" : "string"
          },
          "title" : {
            "type" : "string"
          },
          "url" : {
            "type" : "string"
          }
        }
      },
      "Record" : {
        "required" : [ "created_at", "id", "public_title", "source", "source_url", "trial_id", "trial_url", "updated_at", "url" ],
        "type" : "object",
        "properties" : {
          "created_at" : {
            "type" : "string",
            "description" : "Date when the record was created",
            "format" : "date-time"
          },
          "id" : {
            "type" : "string",
            "description" : "ID of the record"
          },
          "identifiers" : {
            "type" : "object",
            "description" : "Object that maps the trial's sources ids with its identifiers."
          },
          "is_primary" : {
            "type" : "boolean",
            "description" : "Is this record the primary source of data for its trial"
          },
          "last_verification_date" : {
            "type" : "string",
            "description" : "Date when the record's data was last verified by provider",
            "format" : "date-time"
          },
          "public_title" : {
            "type" : "string",
            "description" : "Title of the record"
          },
          "recruitment_status" : {
            "type" : "string",
            "description" : "Trial's recruitment status (e.g. recruiting, unknown etc.)",
            "enum" : [ "recruiting", "not_recruiting", "unknown", "other" ]
          },
          "source" : {
            "$ref" : "#/components/schemas/Source"
          },
          "source_id" : {
            "type" : "string",
            "description" : "ID of the record's source"
          },
          "source_url" : {
            "type" : "string",
            "description" : "URL of the record's source (where it was collected from)"
          },
          "status" : {
            "type" : "string",
            "description" : "Trial's status (e.g. ongoing, withdrawn, complete etc.)",
            "enum" : [ "ongoing", "withdrawn", "suspended", "terminated", "complete", "unknown", "other" ]
          },
          "trial_id" : {
            "type" : "string",
            "description" : "ID of the trial referenced in the record"
          },
          "trial_url" : {
            "type" : "string",
            "description" : "OpenTrials API URL of the trial referenced in the record"
          },
          "updated_at" : {
            "type" : "string",
            "description" : "Date when the record was updated",
            "format" : "date-time"
          },
          "url" : {
            "type" : "string",
            "description" : "OpenTrials API URL of the record"
          }
        }
      },
      "RecordList" : {
        "type" : "array",
        "items" : {
          "$ref" : "#/components/schemas/Record"
        }
      },
      "RecordSummary" : {
        "required" : [ "id", "source_id", "url" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string"
          },
          "is_primary" : {
            "type" : "boolean"
          },
          "last_verification_date" : {
            "type" : "string",
            "format" : "date-time"
          },
          "source_id" : {
            "type" : "string"
          },
          "url" : {
            "type" : "string"
          }
        }
      },
      "RiskOfBias" : {
        "required" : [ "id", "source_id", "source_url", "study_id" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string"
          },
          "risk_of_bias_criteria" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/RiskOfBiasCriteria"
            }
          },
          "source_id" : {
            "type" : "string"
          },
          "source_url" : {
            "type" : "string"
          },
          "study_id" : {
            "type" : "string"
          }
        }
      },
      "RiskOfBiasCriteria" : {
        "required" : [ "id", "name", "value" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string"
          },
          "name" : {
            "type" : "string"
          },
          "value" : {
            "type" : "string",
            "enum" : [ "yes", "no", "unknown" ]
          }
        }
      },
      "Source" : {
        "required" : [ "id", "name" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string"
          },
          "name" : {
            "type" : "string"
          },
          "source_url" : {
            "type" : "string",
            "description" : "URL to source's website"
          },
          "terms_and_conditions_url" : {
            "type" : "string"
          },
          "type" : {
            "type" : "string",
            "enum" : [ "register", "journal", "other" ]
          }
        }
      },
      "SourceList" : {
        "type" : "array",
        "items" : {
          "$ref" : "#/components/schemas/Source"
        }
      },
      "Trial" : {
        "required" : [ "id", "interventions", "locations", "organisations", "persons", "public_title", "publications", "records", "risks_of_bias", "sources", "url" ],
        "type" : "object",
        "properties" : {
          "age_range" : {
            "type" : "object",
            "properties" : {
              "max_age" : {
                "type" : "string",
                "description" : "Maximum participant age (e.g. \"12 Years\", \"1 Month\", \"15 Days\"). If unknown, it's `undefined`. If no limit, it's \"any\". If not applicable, it's \"N/A\"."
              },
              "min_age" : {
                "type" : "string",
                "description" : "Minimum participant age (e.g. \"12 Years\", \"1 Month\", \"15 Days\"). If unknown, it's `undefined`. If no limit, it's \"any\". If not applicable, it's \"N/A\"."
              }
            }
          },
          "brief_summary" : {
            "type" : "string",
            "description" : "Summary of the trial"
          },
          "completion_date" : {
            "type" : "string",
            "description" : "Date the trial was completed",
            "format" : "date-time"
          },
          "conditions" : {
            "type" : "array",
            "description" : "Conditions the trial refers to",
            "items" : {
              "$ref" : "#/components/schemas/Condition"
            }
          },
          "discrepancies" : {
            "type" : "object",
            "description" : "Discrepancies in trial's details between different sources"
          },
          "documents" : {
            "type" : "array",
            "description" : "Documents related to the trial",
            "items" : {
              "$ref" : "#/components/schemas/DocumentSummary"
            }
          },
          "gender" : {
            "type" : "string",
            "description" : "Gender of the subjects of the trial",
            "enum" : [ "both", "male", "female" ]
          },
          "has_published_results" : {
            "type" : "boolean",
            "description" : "Trial has its results published (true/false)"
          },
          "id" : {
            "type" : "string",
            "description" : "ID of the trial"
          },
          "identifiers" : {
            "type" : "object",
            "description" : "Object that maps the trial's sources ids with its identifiers."
          },
          "interventions" : {
            "type" : "array",
            "description" : "Interventions related to the trial",
            "items" : {
              "$ref" : "#/components/schemas/Intervention"
            }
          },
          "locations" : {
            "type" : "array",
            "description" : "Locations related to the trial",
            "items" : {
              "$ref" : "#/components/schemas/TrialLocation"
            }
          },
          "organisations" : {
            "type" : "array",
            "description" : "Organisations related to the trial",
            "items" : {
              "$ref" : "#/components/schemas/TrialOrganisation"
            }
          },
          "persons" : {
            "type" : "array",
            "description" : "People related to the trial",
            "items" : {
              "$ref" : "#/components/schemas/TrialPerson"
            }
          },
          "public_title" : {
            "type" : "string",
            "description" : "Title of the trial"
          },
          "publications" : {
            "type" : "array",
            "description" : "Publications referring the trial",
            "items" : {
              "$ref" : "#/components/schemas/PublicationSummary"
            }
          },
          "records" : {
            "type" : "array",
            "description" : "(published) records of the trial",
            "items" : {
              "$ref" : "#/components/schemas/RecordSummary"
            }
          },
          "recruitment_status" : {
            "type" : "string",
            "description" : "Recruitment status of the trial",
            "enum" : [ "recruiting", "not_recruiting", "unknown", "other" ]
          },
          "registration_date" : {
            "type" : "string",
            "description" : "Date the trial was registered",
            "format" : "date-time"
          },
          "results_exemption_date" : {
            "type" : "string",
            "description" : "Date when a certification of exemption has been filed for the trial",
            "format" : "date-time"
          },
          "risks_of_bias" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/RiskOfBias"
            }
          },
          "source_id" : {
            "type" : "string",
            "description" : "ID of the trial's source"
          },
          "sources" : {
            "type" : "object"
          },
          "status" : {
            "type" : "string",
            "description" : "Completion status of the trial",
            "enum" : [ "ongoing", "withdrawn", "suspended", "terminated", "complete", "unknown", "other" ]
          },
          "study_phase" : {
            "type" : "array",
            "description" : "Phases of the study (e.g. `[\"Phase 2\"]` or `[\"Phase 1\", \"Phase 2\"]`)",
            "items" : {
              "type" : "string"
            }
          },
          "target_sample_size" : {
            "minimum" : 0,
            "type" : "integer",
            "description" : "Target sample size for the trial"
          },
          "url" : {
            "type" : "string",
            "description" : "Source URL (where the trial was collected from)"
          }
        }
      },
      "TrialLocation" : {
        "description" : "Location of a trial",
        "allOf" : [ {
          "$ref" : "#/components/schemas/Location"
        }, {
          "type" : "object",
          "properties" : {
            "role" : {
              "type" : "string",
              "enum" : [ "recruitment_countries", "other" ]
            }
          }
        } ]
      },
      "TrialOrganisation" : {
        "allOf" : [ {
          "$ref" : "#/components/schemas/Organisation"
        }, {
          "type" : "object",
          "properties" : {
            "role" : {
              "type" : "string",
              "enum" : [ "primary_sponsor", "sponsor", "funder", "other" ]
            }
          }
        } ]
      },
      "TrialPerson" : {
        "description" : "People related to a trial",
        "allOf" : [ {
          "$ref" : "#/components/schemas/Person"
        }, {
          "type" : "object",
          "properties" : {
            "role" : {
              "type" : "string",
              "enum" : [ "principal_investigator", "public_queries", "scientific_queries", "other" ]
            }
          }
        } ]
      },
      "TrialSearchResults" : {
        "required" : [ "items", "total_count" ],
        "type" : "object",
        "properties" : {
          "items" : {
            "type" : "array",
            "items" : {
              "$ref" : "#/components/schemas/Trial"
            }
          },
          "total_count" : {
            "type" : "integer"
          }
        }
      },
      "TrialSummary" : {
        "required" : [ "id", "public_title", "url" ],
        "type" : "object",
        "properties" : {
          "id" : {
            "type" : "string",
            "description" : "ID of the trial"
          },
          "public_title" : {
            "type" : "string",
            "description" : "Title of the record"
          },
          "url" : {
            "type" : "string",
            "description" : "OpenTrials API URL for this trial"
          }
        }
      }
    }
  }
}