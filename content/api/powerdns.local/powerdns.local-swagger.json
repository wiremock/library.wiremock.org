{
  "openapi" : "3.0.1",
  "info" : {
    "title" : "PowerDNS Authoritative HTTP API",
    "license" : {
      "name" : "MIT"
    },
    "version" : "0.0.13"
  },
  "servers" : [ {
    "url" : "/api/v1"
  } ],
  "security" : [ {
    "APIKeyHeader" : null
  } ],
  "paths" : {
    "/servers" : {
      "get" : {
        "tags" : [ "servers" ],
        "summary" : "List all servers",
        "operationId" : "listServers",
        "responses" : {
          "200" : {
            "description" : "An array of servers",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/Server"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/servers/{server_id}" : {
      "get" : {
        "tags" : [ "servers" ],
        "summary" : "List a server",
        "operationId" : "listServer",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "An server",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Server"
                }
              }
            }
          }
        }
      }
    },
    "/servers/{server_id}/cache/flush" : {
      "put" : {
        "tags" : [ "servers" ],
        "summary" : "Flush a cache-entry by name",
        "operationId" : "cacheFlushByName",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "domain",
          "in" : "query",
          "description" : "The domain name to flush from the cache",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Flush successful",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/CacheFlushResult"
                }
              }
            }
          }
        }
      }
    },
    "/servers/{server_id}/config" : {
      "get" : {
        "tags" : [ "config" ],
        "summary" : "Returns all ConfigSettings for a single server",
        "operationId" : "getConfig",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "List of config values",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/ConfigSetting"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/servers/{server_id}/config/{config_setting_name}" : {
      "get" : {
        "tags" : [ "config" ],
        "summary" : "Returns a specific ConfigSetting for a single server",
        "description" : "NOT IMPLEMENTED",
        "operationId" : "getConfigSetting",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "config_setting_name",
          "in" : "path",
          "description" : "The name of the setting to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "List of config values",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/ConfigSetting"
                }
              }
            }
          }
        }
      }
    },
    "/servers/{server_id}/search-data" : {
      "get" : {
        "tags" : [ "search" ],
        "summary" : "Search the data inside PowerDNS",
        "description" : "Search the data inside PowerDNS for search_term and return at most max_results. This includes zones, records and comments. The * character can be used in search_term as a wildcard character and the ? character can be used as a wildcard for a single character.",
        "operationId" : "searchData",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "q",
          "in" : "query",
          "description" : "The string to search for",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "max",
          "in" : "query",
          "description" : "Maximum number of entries to return",
          "required" : true,
          "schema" : {
            "type" : "integer"
          }
        }, {
          "name" : "object_type",
          "in" : "query",
          "description" : "Type of data to search for, one of “all”, “zone”, “record”, “comment”",
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Returns a JSON array with results",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/SearchResults"
                }
              }
            }
          }
        }
      }
    },
    "/servers/{server_id}/statistics" : {
      "get" : {
        "tags" : [ "stats" ],
        "summary" : "Query statistics.",
        "description" : "Query PowerDNS internal statistics.",
        "operationId" : "getStats",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "statistic",
          "in" : "query",
          "description" : "When set to the name of a specific statistic, only this value is returned.\nIf no statistic with that name exists, the response has a 422 status and an error message.\n",
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "includerings",
          "in" : "query",
          "description" : "“true” (default) or “false”, whether to include the Ring items, which can contain thousands of log messages or queried domains. Setting this to ”false” may make the response a lot smaller.",
          "schema" : {
            "type" : "boolean",
            "default" : true
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "List of Statistic Items",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array"
                }
              }
            }
          },
          "422" : {
            "description" : "Returned when a non-existing statistic name has been requested. Contains an error message"
          }
        }
      }
    },
    "/servers/{server_id}/tsigkeys" : {
      "get" : {
        "tags" : [ "tsigkey" ],
        "summary" : "Get all TSIGKeys on the server, except the actual key",
        "operationId" : "listTSIGKeys",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "List of TSIGKey objects",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/TSIGKey"
                  }
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error, keys could not be retrieved. Contains error message",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "post" : {
        "tags" : [ "tsigkey" ],
        "summary" : "Add a TSIG key",
        "description" : "This methods add a new TSIGKey. The actual key can be generated by the server or be provided by the client",
        "operationId" : "createTSIGKey",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "description" : "The TSIGKey to add",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/TSIGKey"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "201" : {
            "description" : "Created",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/TSIGKey"
                }
              }
            }
          },
          "409" : {
            "description" : "Conflict. A key with this name already exists",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Error"
                }
              }
            }
          },
          "422" : {
            "description" : "Unprocessable Entry, the TSIGKey provided has issues.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Error"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error. There was a problem creating the key",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/servers/{server_id}/tsigkeys/{tsigkey_id}" : {
      "get" : {
        "tags" : [ "tsigkey" ],
        "summary" : "Get a specific TSIGKeys on the server, including the actual key",
        "operationId" : "getTSIGKey",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve the key from",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "tsigkey_id",
          "in" : "path",
          "description" : "The id of the TSIGkey. Should match the \"id\" field in the TSIGKey object",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/TSIGKey"
                }
              }
            }
          },
          "404" : {
            "description" : "Not found. The TSIGKey with the specified tsigkey_id does not exist",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Error"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error, keys could not be retrieved. Contains error message",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "put" : {
        "tags" : [ "tsigkey" ],
        "description" : "The TSIGKey at tsigkey_id can be changed in multiple ways:\n * Changing the Name, this will remove the key with tsigkey_id after adding.\n * Changing the Algorithm\n * Changing the Key\n\nOnly the relevant fields have to be provided in the request body.\n",
        "operationId" : "putTSIGKey",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve the key from",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "tsigkey_id",
          "in" : "path",
          "description" : "The id of the TSIGkey. Should match the \"id\" field in the TSIGKey object",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "description" : "A (possibly stripped down) TSIGKey object with the new values",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/TSIGKey"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "OK. TSIGKey is changed.",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/TSIGKey"
                }
              }
            }
          },
          "404" : {
            "description" : "Not found. The TSIGKey with the specified tsigkey_id does not exist",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Error"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error. Contains error message",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Error"
                }
              }
            }
          }
        }
      },
      "delete" : {
        "tags" : [ "tsigkey" ],
        "summary" : "Delete the TSIGKey with tsigkey_id",
        "operationId" : "deleteTSIGKey",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve the key from",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "tsigkey_id",
          "in" : "path",
          "description" : "The id of the TSIGkey. Should match the \"id\" field in the TSIGKey object",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "204" : {
            "description" : "OK, key was deleted"
          },
          "404" : {
            "description" : "Not found. The TSIGKey with the specified tsigkey_id does not exist",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Error"
                }
              }
            }
          },
          "500" : {
            "description" : "Internal Server Error. Contains error message",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Error"
                }
              }
            }
          }
        }
      }
    },
    "/servers/{server_id}/zones" : {
      "get" : {
        "tags" : [ "zones" ],
        "summary" : "List all Zones in a server",
        "operationId" : "listZones",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "zone",
          "in" : "query",
          "description" : "When set to the name of a zone, only this zone is returned.\nIf no zone with that name exists, the response is an empty array.\nThis can e.g. be used to check if a zone exists in the database without having to guess/encode the zone's id or to check if a zone exists.\n",
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "dnssec",
          "in" : "query",
          "description" : "“true” (default) or “false”, whether to include the “dnssec” and ”edited_serial” fields in the Zone objects. Setting this to ”false” will make the query a lot faster.",
          "schema" : {
            "type" : "boolean",
            "default" : true
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "An array of Zones",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/Zone"
                  }
                }
              }
            }
          }
        }
      },
      "post" : {
        "tags" : [ "zones" ],
        "summary" : "Creates a new domain, returns the Zone on creation.",
        "operationId" : "createZone",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "rrsets",
          "in" : "query",
          "description" : "“true” (default) or “false”, whether to include the “rrsets” in the response Zone object.",
          "schema" : {
            "type" : "boolean",
            "default" : true
          }
        } ],
        "requestBody" : {
          "description" : "The zone struct to patch with",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/Zone"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "201" : {
            "description" : "A zone",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Zone"
                }
              }
            }
          }
        }
      }
    },
    "/servers/{server_id}/zones/{zone_id}" : {
      "get" : {
        "tags" : [ "zones" ],
        "summary" : "zone managed by a server",
        "operationId" : "listZone",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "zone_id",
          "in" : "path",
          "description" : "The id of the zone to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "rrsets",
          "in" : "query",
          "description" : "“true” (default) or “false”, whether to include the “rrsets” in the response Zone object.",
          "schema" : {
            "type" : "boolean",
            "default" : true
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "A Zone",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Zone"
                }
              }
            }
          }
        }
      },
      "put" : {
        "tags" : [ "zones" ],
        "summary" : "Modifies basic zone data.",
        "description" : "The only fields in the zone structure which can be modified are: kind, masters, account, soa_edit, soa_edit_api, api_rectify, dnssec, and nsec3param. All other fields are ignored.",
        "operationId" : "putZone",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "zone_id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "description" : "The zone struct to patch with",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/Zone"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "204" : {
            "description" : "Returns 204 No Content on success."
          }
        }
      },
      "delete" : {
        "tags" : [ "zones" ],
        "summary" : "Deletes this zone, all attached metadata and rrsets.",
        "operationId" : "deleteZone",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "zone_id",
          "in" : "path",
          "description" : "The id of the zone to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "204" : {
            "description" : "Returns 204 No Content on success."
          }
        }
      },
      "patch" : {
        "tags" : [ "zones" ],
        "summary" : "Creates/modifies/deletes RRsets present in the payload and their comments. Returns 204 No Content on success.",
        "operationId" : "patchZone",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "zone_id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "description" : "The zone struct to patch with",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/Zone"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "204" : {
            "description" : "Returns 204 No Content on success."
          }
        }
      }
    },
    "/servers/{server_id}/zones/{zone_id}/axfr-retrieve" : {
      "put" : {
        "tags" : [ "zones" ],
        "summary" : "Retrieve slave zone from its master.",
        "description" : "Fails when zone kind is not Slave, or slave is disabled in the configuration. Clients MUST NOT send a body.",
        "operationId" : "axfrRetrieveZone",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "zone_id",
          "in" : "path",
          "description" : "The id of the zone to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK"
          }
        }
      }
    },
    "/servers/{server_id}/zones/{zone_id}/cryptokeys" : {
      "get" : {
        "tags" : [ "zonecryptokey" ],
        "summary" : "Get all CryptoKeys for a zone, except the privatekey",
        "operationId" : "listCryptokeys",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "zone_id",
          "in" : "path",
          "description" : "The id of the zone to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "List of Cryptokey objects",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/Cryptokey"
                  }
                }
              }
            }
          }
        }
      },
      "post" : {
        "tags" : [ "zonecryptokey" ],
        "summary" : "Creates a Cryptokey",
        "description" : "This method adds a new key to a zone. The key can either be generated or imported by supplying the content parameter. if content, bits and algo are null, a key will be generated based on the default-ksk-algorithm and default-ksk-size settings for a KSK and the default-zsk-algorithm and default-zsk-size options for a ZSK.",
        "operationId" : "createCryptokey",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "zone_id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "description" : "Add a Cryptokey",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/Cryptokey"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "201" : {
            "description" : "Created",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Cryptokey"
                }
              }
            }
          }
        }
      }
    },
    "/servers/{server_id}/zones/{zone_id}/cryptokeys/{cryptokey_id}" : {
      "get" : {
        "tags" : [ "zonecryptokey" ],
        "summary" : "Returns all data about the CryptoKey, including the privatekey.",
        "operationId" : "getCryptokey",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "zone_id",
          "in" : "path",
          "description" : "The id of the zone to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "cryptokey_id",
          "in" : "path",
          "description" : "The id value of the CryptoKey",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Cryptokey",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Cryptokey"
                }
              }
            }
          }
        }
      },
      "put" : {
        "tags" : [ "zonecryptokey" ],
        "summary" : "This method (de)activates a key from zone_name specified by cryptokey_id",
        "operationId" : "modifyCryptokey",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "zone_id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "cryptokey_id",
          "in" : "path",
          "description" : "Cryptokey to manipulate",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "description" : "the Cryptokey",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/Cryptokey"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "204" : {
            "description" : "OK"
          },
          "422" : {
            "description" : "Returned when something is wrong with the content of the request. Contains an error message"
          }
        }
      },
      "delete" : {
        "tags" : [ "zonecryptokey" ],
        "summary" : "This method deletes a key specified by cryptokey_id.",
        "operationId" : "deleteCryptokey",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "zone_id",
          "in" : "path",
          "description" : "The id of the zone to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "cryptokey_id",
          "in" : "path",
          "description" : "The id value of the Cryptokey",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "204" : {
            "description" : "OK"
          },
          "422" : {
            "description" : "Returned when something is wrong with the content of the request. Contains an error message"
          }
        }
      }
    },
    "/servers/{server_id}/zones/{zone_id}/export" : {
      "get" : {
        "tags" : [ "zones" ],
        "summary" : "Returns the zone in AXFR format.",
        "operationId" : "axfrExportZone",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "zone_id",
          "in" : "path",
          "description" : "The id of the zone to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "string"
                }
              }
            }
          }
        }
      }
    },
    "/servers/{server_id}/zones/{zone_id}/metadata" : {
      "get" : {
        "tags" : [ "zonemetadata" ],
        "summary" : "Get all the Metadata associated with the zone.",
        "operationId" : "listMetadata",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "zone_id",
          "in" : "path",
          "description" : "The id of the zone to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "List of Metadata objects",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "array",
                  "items" : {
                    "$ref" : "#/components/schemas/Metadata"
                  }
                }
              }
            }
          }
        }
      },
      "post" : {
        "tags" : [ "zonemetadata" ],
        "summary" : "Creates a set of metadata entries",
        "description" : "Creates a set of metadata entries of given kind for the zone. Existing metadata entries for the zone with the same kind are not overwritten.",
        "operationId" : "createMetadata",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "zone_id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "description" : "Metadata object with list of values to create",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/Metadata"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "204" : {
            "description" : "OK"
          }
        }
      }
    },
    "/servers/{server_id}/zones/{zone_id}/metadata/{metadata_kind}" : {
      "get" : {
        "tags" : [ "zonemetadata" ],
        "summary" : "Get the content of a single kind of domain metadata as a Metadata object.",
        "operationId" : "getMetadata",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "zone_id",
          "in" : "path",
          "description" : "The id of the zone to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "metadata_kind",
          "in" : "path",
          "description" : "The kind of metadata",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "Metadata object with list of values",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Metadata"
                }
              }
            }
          }
        }
      },
      "put" : {
        "tags" : [ "zonemetadata" ],
        "summary" : "Replace the content of a single kind of domain metadata.",
        "description" : "Creates a set of metadata entries of given kind for the zone. Existing metadata entries for the zone with the same kind are removed.",
        "operationId" : "modifyMetadata",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "zone_id",
          "in" : "path",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "metadata_kind",
          "in" : "path",
          "description" : "The kind of metadata",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "requestBody" : {
          "description" : "metadata to add/create",
          "content" : {
            "application/json" : {
              "schema" : {
                "$ref" : "#/components/schemas/Metadata"
              }
            }
          },
          "required" : true
        },
        "responses" : {
          "200" : {
            "description" : "Metadata object with list of values",
            "content" : {
              "application/json" : {
                "schema" : {
                  "$ref" : "#/components/schemas/Metadata"
                }
              }
            }
          }
        }
      },
      "delete" : {
        "tags" : [ "zonemetadata" ],
        "summary" : "Delete all items of a single kind of domain metadata.",
        "operationId" : "deleteMetadata",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "zone_id",
          "in" : "path",
          "description" : "The id of the zone to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "metadata_kind",
          "in" : "path",
          "description" : "The kind of metadata",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK"
          }
        }
      }
    },
    "/servers/{server_id}/zones/{zone_id}/notify" : {
      "put" : {
        "tags" : [ "zones" ],
        "summary" : "Send a DNS NOTIFY to all slaves.",
        "description" : "Fails when zone kind is not Master or Slave, or master and slave are disabled in the configuration. Only works for Slave if renotify is on. Clients MUST NOT send a body.",
        "operationId" : "notifyZone",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "zone_id",
          "in" : "path",
          "description" : "The id of the zone to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK"
          }
        }
      }
    },
    "/servers/{server_id}/zones/{zone_id}/rectify" : {
      "put" : {
        "tags" : [ "zones" ],
        "summary" : "Rectify the zone data.",
        "description" : "This does not take into account the API-RECTIFY metadata. Fails on slave zones and zones that do not have DNSSEC.",
        "operationId" : "rectifyZone",
        "parameters" : [ {
          "name" : "server_id",
          "in" : "path",
          "description" : "The id of the server to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        }, {
          "name" : "zone_id",
          "in" : "path",
          "description" : "The id of the zone to retrieve",
          "required" : true,
          "schema" : {
            "type" : "string"
          }
        } ],
        "responses" : {
          "200" : {
            "description" : "OK",
            "content" : {
              "application/json" : {
                "schema" : {
                  "type" : "string"
                }
              }
            }
          }
        }
      }
    }
  },
  "components" : {
    "schemas" : {
      "CacheFlushResult" : {
        "title" : "CacheFlushResult",
        "type" : "object",
        "properties" : {
          "count" : {
            "type" : "number",
            "description" : "Amount of entries flushed"
          },
          "result" : {
            "type" : "string",
            "description" : "A message about the result like \"Flushed cache\""
          }
        },
        "description" : "The result of a cache-flush"
      },
      "Comment" : {
        "title" : "Comment",
        "type" : "object",
        "properties" : {
          "account" : {
            "type" : "string",
            "description" : "Name of an account that added the comment"
          },
          "content" : {
            "type" : "string",
            "description" : "The actual comment"
          },
          "modified_at" : {
            "type" : "integer",
            "description" : "Timestamp of the last change to the comment"
          }
        },
        "description" : "A comment about an RRSet."
      },
      "ConfigSetting" : {
        "title" : "ConfigSetting",
        "type" : "object",
        "properties" : {
          "name" : {
            "type" : "string",
            "description" : "set to \"ConfigSetting\""
          },
          "type" : {
            "type" : "string",
            "description" : "The name of this setting (e.g. ‘webserver-port’)"
          },
          "value" : {
            "type" : "string",
            "description" : "The value of setting name"
          }
        }
      },
      "Cryptokey" : {
        "title" : "Cryptokey",
        "type" : "object",
        "properties" : {
          "active" : {
            "type" : "boolean",
            "description" : "Whether or not the key is in active use"
          },
          "algorithm" : {
            "type" : "string",
            "description" : "The name of the algorithm of the key, should be a mnemonic"
          },
          "bits" : {
            "type" : "integer",
            "description" : "The size of the key"
          },
          "dnskey" : {
            "type" : "string",
            "description" : "The DNSKEY record for this key"
          },
          "ds" : {
            "type" : "array",
            "description" : "An array of DS records for this key",
            "items" : {
              "type" : "string"
            }
          },
          "id" : {
            "type" : "integer",
            "description" : "The internal identifier, read only"
          },
          "keytype" : {
            "type" : "string",
            "enum" : [ "ksk", "zsk", "csk" ]
          },
          "privatekey" : {
            "type" : "string",
            "description" : "The private key in ISC format"
          },
          "published" : {
            "type" : "boolean",
            "description" : "Whether or not the DNSKEY record is published in the zone"
          },
          "type" : {
            "type" : "string",
            "description" : "set to \"Cryptokey\""
          }
        },
        "description" : "Describes a DNSSEC cryptographic key"
      },
      "Error" : {
        "title" : "Error",
        "required" : [ "error" ],
        "type" : "object",
        "properties" : {
          "error" : {
            "type" : "string",
            "description" : "A human readable error message"
          },
          "errors" : {
            "type" : "array",
            "description" : "Optional array of multiple errors encountered during processing",
            "items" : {
              "type" : "string"
            }
          }
        },
        "description" : "Returned when the server encounters an error. Either in client input or internally"
      },
      "MapStatisticItem" : {
        "title" : "MapStatisticItem",
        "type" : "object",
        "properties" : {
          "name" : {
            "type" : "string",
            "description" : "Item name"
          },
          "type" : {
            "type" : "string",
            "description" : "Set to \"MapStatisticItem\""
          },
          "value" : {
            "type" : "array",
            "description" : "Named values",
            "items" : {
              "$ref" : "#/components/schemas/SimpleStatisticItem"
            }
          }
        }
      },
      "Metadata" : {
        "title" : "Metadata",
        "type" : "object",
        "properties" : {
          "kind" : {
            "type" : "string",
            "description" : "Name of the metadata"
          },
          "metadata" : {
            "type" : "array",
            "description" : "Array with all values for this metadata kind.",
            "items" : {
              "type" : "string"
            }
          }
        },
        "description" : "Represents zone metadata"
      },
      "RRSet" : {
        "title" : "RRSet",
        "required" : [ "changetype", "name", "records", "ttl", "type" ],
        "type" : "object",
        "properties" : {
          "changetype" : {
            "type" : "string",
            "description" : "MUST be added when updating the RRSet. Must be REPLACE or DELETE. With DELETE, all existing RRs matching name and type will be deleted, including all comments. With REPLACE: when records is present, all existing RRs matching name and type will be deleted, and then new records given in records will be created. If no records are left, any existing comments will be deleted as well. When comments is present, all existing comments for the RRs matching name and type will be deleted, and then new comments given in comments will be created."
          },
          "comments" : {
            "type" : "array",
            "description" : "List of Comment. Must be empty when changetype is set to DELETE. An empty list results in deletion of all comments. modified_at is optional and defaults to the current server time.",
            "items" : {
              "$ref" : "#/components/schemas/Comment"
            }
          },
          "name" : {
            "type" : "string",
            "description" : "Name for record set (e.g. “www.powerdns.com.”)"
          },
          "records" : {
            "type" : "array",
            "description" : "All records in this RRSet. When updating Records, this is the list of new records (replacing the old ones). Must be empty when changetype is set to DELETE. An empty list results in deletion of all records (and comments).",
            "items" : {
              "$ref" : "#/components/schemas/Record"
            }
          },
          "ttl" : {
            "type" : "integer",
            "description" : "DNS TTL of the records, in seconds. MUST NOT be included when changetype is set to “DELETE”."
          },
          "type" : {
            "type" : "string",
            "description" : "Type of this record (e.g. “A”, “PTR”, “MX”)"
          }
        },
        "description" : "This represents a Resource Record Set (all records with the same name and type)."
      },
      "Record" : {
        "title" : "Record",
        "required" : [ "content" ],
        "type" : "object",
        "properties" : {
          "content" : {
            "type" : "string",
            "description" : "The content of this record"
          },
          "disabled" : {
            "type" : "boolean",
            "description" : "Whether or not this record is disabled. When unset, the record is not disabled"
          }
        },
        "description" : "The RREntry object represents a single record."
      },
      "RingStatisticItem" : {
        "title" : "RingStatisticItem",
        "type" : "object",
        "properties" : {
          "name" : {
            "type" : "string",
            "description" : "Item name"
          },
          "size" : {
            "type" : "integer",
            "description" : "Ring size"
          },
          "type" : {
            "type" : "string",
            "description" : "Set to \"RingStatisticItem\""
          },
          "value" : {
            "type" : "array",
            "description" : "Named values",
            "items" : {
              "$ref" : "#/components/schemas/SimpleStatisticItem"
            }
          }
        }
      },
      "SearchResult" : {
        "title" : "SearchResult",
        "type" : "object",
        "properties" : {
          "content" : {
            "type" : "string"
          },
          "disabled" : {
            "type" : "boolean"
          },
          "name" : {
            "type" : "string"
          },
          "object_type" : {
            "type" : "string",
            "description" : "set to one of \"record, zone, comment\""
          },
          "ttl" : {
            "type" : "integer"
          },
          "type" : {
            "type" : "string"
          },
          "zone" : {
            "type" : "string"
          },
          "zone_id" : {
            "type" : "string"
          }
        }
      },
      "SearchResultComment" : {
        "title" : "SearchResultComment",
        "type" : "object",
        "properties" : {
          "content" : {
            "type" : "string"
          },
          "name" : {
            "type" : "string"
          },
          "object_type" : {
            "type" : "string",
            "description" : "set to \"comment\""
          },
          "zone" : {
            "type" : "string"
          },
          "zone_id" : {
            "type" : "string"
          }
        }
      },
      "SearchResultRecord" : {
        "title" : "SearchResultRecord",
        "type" : "object",
        "properties" : {
          "content" : {
            "type" : "string"
          },
          "disabled" : {
            "type" : "boolean"
          },
          "name" : {
            "type" : "string"
          },
          "object_type" : {
            "type" : "string",
            "description" : "set to \"record\""
          },
          "ttl" : {
            "type" : "integer"
          },
          "type" : {
            "type" : "string"
          },
          "zone" : {
            "type" : "string"
          },
          "zone_id" : {
            "type" : "string"
          }
        }
      },
      "SearchResultZone" : {
        "title" : "SearchResultZone",
        "type" : "object",
        "properties" : {
          "name" : {
            "type" : "string"
          },
          "object_type" : {
            "type" : "string",
            "description" : "set to \"zone\""
          },
          "zone_id" : {
            "type" : "string"
          }
        }
      },
      "SearchResults" : {
        "type" : "array",
        "items" : {
          "$ref" : "#/components/schemas/SearchResult"
        }
      },
      "Server" : {
        "title" : "Server",
        "type" : "object",
        "properties" : {
          "config_url" : {
            "type" : "string",
            "description" : "The API endpoint for this server’s configuration"
          },
          "daemon_type" : {
            "type" : "string",
            "description" : "“recursor” for the PowerDNS Recursor and “authoritative” for the Authoritative Server"
          },
          "id" : {
            "type" : "string",
            "description" : "The id of the server, “localhost”"
          },
          "type" : {
            "type" : "string",
            "description" : "Set to “Server”"
          },
          "url" : {
            "type" : "string",
            "description" : "The API endpoint for this server"
          },
          "version" : {
            "type" : "string",
            "description" : "The version of the server software"
          },
          "zones_url" : {
            "type" : "string",
            "description" : "The API endpoint for this server’s zones"
          }
        }
      },
      "Servers" : {
        "type" : "array",
        "items" : {
          "$ref" : "#/components/schemas/Server"
        }
      },
      "SimpleStatisticItem" : {
        "title" : "SimpleStatisticItem",
        "type" : "object",
        "properties" : {
          "name" : {
            "type" : "string",
            "description" : "Item name"
          },
          "value" : {
            "type" : "string",
            "description" : "Item value"
          }
        }
      },
      "StatisticItem" : {
        "title" : "StatisticItem",
        "type" : "object",
        "properties" : {
          "name" : {
            "type" : "string",
            "description" : "Item name"
          },
          "type" : {
            "type" : "string",
            "description" : "set to \"StatisticItem\""
          },
          "value" : {
            "type" : "string",
            "description" : "Item value"
          }
        }
      },
      "TSIGKey" : {
        "title" : "TSIGKey",
        "type" : "object",
        "properties" : {
          "algorithm" : {
            "type" : "string",
            "description" : "The algorithm of the TSIG key"
          },
          "id" : {
            "type" : "string",
            "description" : "The ID for this key, used in the TSIGkey URL endpoint.",
            "readOnly" : true
          },
          "key" : {
            "type" : "string",
            "description" : "The Base64 encoded secret key, empty when listing keys. MAY be empty when POSTing to have the server generate the key material"
          },
          "name" : {
            "type" : "string",
            "description" : "The name of the key"
          },
          "type" : {
            "type" : "string",
            "description" : "Set to \"TSIGKey\"",
            "readOnly" : true
          }
        },
        "description" : "A TSIG key that can be used to authenticate NOTIFY, AXFR, and DNSUPDATE queries."
      },
      "Zone" : {
        "title" : "Zone",
        "type" : "object",
        "properties" : {
          "account" : {
            "type" : "string",
            "description" : "MAY be set. Its value is defined by local policy"
          },
          "api_rectify" : {
            "type" : "boolean",
            "description" : " Whether or not the zone will be rectified on data changes via the API"
          },
          "dnssec" : {
            "type" : "boolean",
            "description" : "Whether or not this zone is DNSSEC signed (inferred from presigned being true XOR presence of at least one cryptokey with active being true)"
          },
          "edited_serial" : {
            "type" : "integer",
            "description" : "The SOA serial as seen in query responses. Calculated using the SOA-EDIT metadata, default-soa-edit and default-soa-edit-signed settings"
          },
          "id" : {
            "type" : "string",
            "description" : "Opaque zone id (string), assigned by the server, should not be interpreted by the application. Guaranteed to be safe for embedding in URLs."
          },
          "kind" : {
            "type" : "string",
            "description" : "Zone kind, one of “Native”, “Master”, “Slave”",
            "enum" : [ "Native", "Master", "Slave" ]
          },
          "master_tsig_key_ids" : {
            "type" : "array",
            "description" : "The id of the TSIG keys used for master operation in this zone",
            "items" : {
              "type" : "string"
            }
          },
          "masters" : {
            "type" : "array",
            "description" : " List of IP addresses configured as a master for this zone (“Slave” type zones only)",
            "items" : {
              "type" : "string"
            }
          },
          "name" : {
            "type" : "string",
            "description" : "Name of the zone (e.g. “example.com.”) MUST have a trailing dot"
          },
          "nameservers" : {
            "type" : "array",
            "description" : "MAY be sent in client bodies during creation, and MUST NOT be sent by the server. Simple list of strings of nameserver names, including the trailing dot. Not required for slave zones.",
            "items" : {
              "type" : "string"
            }
          },
          "notified_serial" : {
            "type" : "integer",
            "description" : "The SOA serial notifications have been sent out for"
          },
          "nsec3narrow" : {
            "type" : "boolean",
            "description" : "Whether or not the zone uses NSEC3 narrow"
          },
          "nsec3param" : {
            "type" : "string",
            "description" : "The NSEC3PARAM record"
          },
          "presigned" : {
            "type" : "boolean",
            "description" : "Whether or not the zone is pre-signed"
          },
          "rrsets" : {
            "type" : "array",
            "description" : "RRSets in this zone (for zones/{zone_id} endpoint only; omitted during GET on the .../zones list endpoint)",
            "items" : {
              "$ref" : "#/components/schemas/RRSet"
            }
          },
          "serial" : {
            "type" : "integer",
            "description" : "The SOA serial number"
          },
          "slave_tsig_key_ids" : {
            "type" : "array",
            "description" : "The id of the TSIG keys used for slave operation in this zone",
            "items" : {
              "type" : "string"
            }
          },
          "soa_edit" : {
            "type" : "string",
            "description" : "The SOA-EDIT metadata item"
          },
          "soa_edit_api" : {
            "type" : "string",
            "description" : "The SOA-EDIT-API metadata item"
          },
          "type" : {
            "type" : "string",
            "description" : "Set to “Zone”"
          },
          "url" : {
            "type" : "string",
            "description" : "API endpoint for this zone"
          },
          "zone" : {
            "type" : "string",
            "description" : "MAY contain a BIND-style zone file when creating a zone"
          }
        },
        "description" : "This represents an authoritative DNS Zone."
      },
      "Zones" : {
        "type" : "array",
        "items" : {
          "$ref" : "#/components/schemas/Zone"
        }
      }
    },
    "securitySchemes" : {
      "APIKeyHeader" : {
        "type" : "apiKey",
        "name" : "X-API-Key",
        "in" : "header"
      }
    }
  }
}